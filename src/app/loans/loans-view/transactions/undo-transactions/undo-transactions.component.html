<div class="container">

    <mat-card>
  
      <form [formGroup]="undoTransactionForm" >
        <mat-card-content fxLayout="column">
  
          <mat-form-field (click)="dueDatePicker.open()">
            <mat-label>{{"labels.inputs.Transaction Date" | translate}}</mat-label>
            <input matInput [min]="minDate" [max]="maxDate" [matDatepicker]="dueDatePicker"
              formControlName="transactionDate" disabled readonly>
            <mat-datepicker-toggle matSuffix [for]="dueDatePicker"></mat-datepicker-toggle>
            <mat-datepicker #dueDatePicker></mat-datepicker>
            <mat-error *ngIf="undoTransactionForm.controls.transactionDate.hasError('required')">
              {{"labels.inputs.Transaction Date" | translate}} {{"labels.commons.is" | translate}} <strong> {{"labels.commons.required" | translate}} </strong>
            </mat-error>
          </mat-form-field>
  
          <mat-form-field>
            <mat-label>{{"labels.inputs.Transaction Amount" | translate}}</mat-label>
            <input type="number" formControlName="transactionAmount" matInput disabled readonly/>
            <mat-error *ngIf="undoTransactionForm.controls.transactionAmount.hasError('required')">
              {{"labels.inputs.Transaction Amount" | translate}} {{"labels.commons.is" | translate}} <strong> {{"labels.commons.required" | translate}} </strong>
            </mat-error>
          </mat-form-field>
  
          <mat-form-field>
            <mat-label>{{"labels.inputs.External Id" | translate}}</mat-label>
            <input matInput formControlName="externalId" readonly>
          </mat-form-field>
  
          <mat-form-field>
            <mat-label>{{"labels.inputs.Payment Type" | translate}}</mat-label>
            <mat-select formControlName="paymentTypeId">
              <mat-option *ngFor="let paymentType of paymentTypeOptions" [value]="paymentType.id">
                {{ paymentType.name }}
              </mat-option>
            </mat-select>
          </mat-form-field>
  
          <mat-form-field  fxLayoutGap="2%">
            <mat-label>{{ 'labels.inputs.Channel' | translate }}</mat-label>
            <mat-select formControlName="channelName"  aria-placeholder="Oi!">
              <mat-option *ngFor="let obj of channelOptions" [value]="obj.name">
                {{ obj.name }}
              </mat-option>
            </mat-select>
            <button mat-button *ngIf="undoTransactionForm.controls.channelName" matSuffix mat-icon-button
              aria-label="Clear" (click)="clearProperty($event, 'channelName')">
        <mat-icon>close</mat-icon>
      </button>
          </mat-form-field>
  
          <div fxFlexFill>
            <span fxFlex="75%" class="expandcollapsebutton m-l-10 m-t-40" (click)="addPaymentDetails()">
              <mat-slide-toggle>
                <div [className]="showPaymentDetails ? 'enabled' : 'disabled'">
                  <span class="m-l-10">{{"labels.inputs.Show Payment Details" | translate}}</span>
                </div>
              </mat-slide-toggle>
            </span>
          </div>
  
          <mat-form-field *ngIf="undoTransactionForm.controls['accountNumber']">
            <mat-label>{{"labels.inputs.Account Number" | translate}}</mat-label>
            <input type="number" formControlName="accountNumber" matInput />
          </mat-form-field>
  
          <mat-form-field *ngIf="undoTransactionForm.controls['checkNumber']">
            <mat-label>{{"labels.inputs.Cheque" | translate}}</mat-label>
            <input type="number" formControlName="checkNumber" matInput />
          </mat-form-field>
  
          <mat-form-field *ngIf="undoTransactionForm.controls['routingCode']">
            <mat-label>{{"labels.inputs.Routing Code" | translate}}</mat-label>
            <input formControlName="routingCode" matInput />
          </mat-form-field>
  
          <mat-form-field *ngIf="undoTransactionForm.controls['receiptNumber']">
            <mat-label>{{"labels.inputs.Receipt Number" | translate}}</mat-label>
            <input formControlName="receiptNumber" matInput />
          </mat-form-field>
  
          <mat-form-field *ngIf="undoTransactionForm.controls['bankNumber']">
            <mat-label>{{"labels.inputs.Bank" | translate}}</mat-label>
            <input formControlName="bankNumber" matInput />
          </mat-form-field>
  
          <mat-card-actions fxLayoutGap="5px" fxLayout="row" fxLayout.xs="column" fxLayoutAlign="center">
            <button type="button" mat-raised-button [routerLink]="['../']">{{"labels.buttons.Cancel" | translate}}</button>
            <button mat-raised-button color="primary" [disabled]="!undoTransactionForm.valid" (click)="submit()" >{{ 'Undo' | translate}}</button>
          </mat-card-actions>
  
        </mat-card-content>
  
      </form>
  
    </mat-card>
  
  </div>
  