<div class="container">

  <div fxLayout="row" fxLayoutAlign="end" fxLayoutGap="20px" class="transaction-buttons" >
    <button mat-raised-button color="primary" class="transaction-button" (click)="exportSchedule()">
      {{"labels.buttons.Export" | translate}}
    </button>
  </div>

  <table mat-table [dataSource]="originalScheduleDetails.periods" matSort>

    <ng-container matColumnDef="date">
      <th mat-header-cell *matHeaderCellDef mat-sort-header> {{"labels.inputs.Date" | translate}} </th>
      <td mat-cell *matCellDef="let ele"> {{ ele.dueDate | dateFormat}} </td>
      <td mat-footer-cell *matFooterCellDef> <b> {{"labels.inputs.Total" | translate}}</b> </td>
    </ng-container>

    <ng-container matColumnDef="principalDue">
      <th mat-header-cell *matHeaderCellDef mat-sort-header> {{"labels.inputs.Principal Due" | translate}} </th>
      <td mat-cell *matCellDef="let ele"> {{ ele.principalDue | formatNumber:[decimalPlaces] }} </td>
      <td mat-footer-cell *matFooterCellDef> <b> {{ originalScheduleDetails.totalPrincipalExpected | formatNumber:[decimalPlaces] }} </b> </td>
    </ng-container>

    <ng-container matColumnDef="balanceOfLoan">
      <th mat-header-cell *matHeaderCellDef mat-sort-header> {{"labels.inputs.Balance Of Loan" | translate}} </th>
      <td mat-cell *matCellDef="let ele"> {{ ele.principalLoanBalanceOutstanding | formatNumber:[decimalPlaces] }} </td>
      <td mat-footer-cell *matFooterCellDef> &nbsp; </td>
    </ng-container>

    <ng-container matColumnDef="interest">
      <th mat-header-cell *matHeaderCellDef mat-sort-header> {{"labels.inputs.Interest" | translate}} </th>
      <td mat-cell *matCellDef="let ele"> {{ ele.interestOriginalDue | formatNumber:[decimalPlaces]}} </td>
      <td mat-footer-cell *matFooterCellDef> <b> {{ originalScheduleDetails.totalInterestCharged | formatNumber:[decimalPlaces] }} </b> </td>
    </ng-container>

    <ng-container matColumnDef="voluntary.insurance">
      <th mat-header-cell *matHeaderCellDef mat-sort-header> {{"labels.inputs.chargeCalculationType.voluntary.assistance" | translate}} </th>
      <td mat-cell *matCellDef="let ele"> {{ ele.voluntaryInsuranceDue | formatNumber:[decimalPlaces]}} </td>
      <td mat-footer-cell *matFooterCellDef> <b> {{ originalScheduleDetails.totalVoluntaryInsuranceCharged | formatNumber:[decimalPlaces] }} </b> </td>
    </ng-container>

    <ng-container matColumnDef="mandatory.insurance">
      <th mat-header-cell *matHeaderCellDef mat-sort-header> {{"labels.inputs.chargeCalculationType.insurance" | translate}} </th>
      <td mat-cell *matCellDef="let ele"> {{ ele.mandatoryInsuranceDue | formatNumber:[decimalPlaces]}} </td>
      <td mat-footer-cell *matFooterCellDef> <b> {{ originalScheduleDetails.totalMandatoryInsuranceCharged | formatNumber:[decimalPlaces] }} </b> </td>
    </ng-container>

    <ng-container matColumnDef="aval">
      <th mat-header-cell *matHeaderCellDef mat-sort-header> {{"labels.inputs.chargeCalculationType.aval" | translate}} </th>
      <td mat-cell *matCellDef="let ele"> {{ ele.avalDue | formatNumber:[decimalPlaces]}} </td>
      <td mat-footer-cell *matFooterCellDef> <b> {{ originalScheduleDetails.totalAvalCharged | formatNumber:[decimalPlaces] }} </b> </td>
    </ng-container>

    <ng-container matColumnDef="fees">
      <th mat-header-cell *matHeaderCellDef mat-sort-header> {{"labels.inputs.chargeCalculationType.fee" | translate}} </th>
      <td mat-cell *matCellDef="let ele"> {{ ele.honorariosDue | formatNumber:[decimalPlaces]}} </td>
      <td mat-footer-cell *matFooterCellDef> <b> {{ originalScheduleDetails.totalHonorariosCharged | formatNumber:[decimalPlaces] }} </b> </td>
    </ng-container>

    <ng-container matColumnDef="penalties">
      <th mat-header-cell *matHeaderCellDef mat-sort-header> {{"labels.inputs.Penalties" | translate}} </th>
      <td mat-cell *matCellDef="let ele"> {{ ele.penaltyChargesDue | formatNumber:[decimalPlaces]}} </td>
      <td mat-footer-cell *matFooterCellDef> <b> {{ originalScheduleDetails.totalPenaltyChargesCharged | formatNumber:[decimalPlaces] }} </b> </td>
    </ng-container>

    <ng-container matColumnDef="outstanding">
      <th mat-header-cell *matHeaderCellDef mat-sort-header> {{"labels.inputs.Outstanding" | translate}} </th>
      <td mat-cell *matCellDef="let ele"> {{ ele.totalOutstandingForPeriod | formatNumber:[decimalPlaces]}} </td>
      <td mat-footer-cell *matFooterCellDef> <b> {{ originalScheduleDetails.totalRepaymentExpected | formatNumber:[decimalPlaces] }} </b> </td>
    </ng-container>

    <!-- Header row first group -->
    <ng-container matColumnDef="header">
      <th mat-header-cell *matHeaderCellDef [attr.colspan]="1"> </th>
    </ng-container>

    <!-- Header row second group -->
    <ng-container matColumnDef="header-amount">
      <th mat-header-cell *matHeaderCellDef [attr.colspan]="2"> {{"labels.inputs.Loan Amount and Balance" | translate}} </th>
    </ng-container>

    <ng-container matColumnDef="header-total-cost">
      <th mat-header-cell *matHeaderCellDef [attr.colspan]="3"> {{"labels.inputs.Total Cost of Loan" | translate}} </th>
    </ng-container>

    <ng-container matColumnDef="header-installment-totals">
      <th mat-header-cell *matHeaderCellDef [attr.colspan]="1"> {{"labels.inputs.Installment Totals" | translate}} </th>
    </ng-container>

    <tr mat-header-row *matHeaderRowDef="['header', 'header-amount', 'header-total-cost', 'header-installment-totals']"></tr>
    <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
    <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
    <tr mat-footer-row *matFooterRowDef="displayedColumns"></tr>

  </table>

</div>
